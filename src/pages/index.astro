---
import PostList from '../components/Post.vue';
import { readFile } from 'fs/promises';
import matter from 'gray-matter'; // Import gray-matter

// Read the markdown file and parse its frontmatter and content
const homepageContent = await readFile('./src/content/index.md', 'utf-8');
const { data, content } = matter(homepageContent); // Use matter to parse

const post = {
  title: data.title, // Access title from frontmatter
  intro: data.intro, // Access introduction
  content: content,   // Main markdown content
  footer: data.footer, // Access footer content
};
---

<h1>{post.title}</h1>
<p>{post.intro}</p>
<PostList title={post.title} content={post.content} />
<footer>
  <div v-html={post.footer}></div> <!-- Render footer content -->
</footer>